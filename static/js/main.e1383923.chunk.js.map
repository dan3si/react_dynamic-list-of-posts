{"version":3,"sources":["components/User/User.js","components/Comment/Comment.js","components/CommentsList/CommentsList.js","components/Post/Post.js","components/PostList/PostList.js","App.js","index.js"],"names":["User","username","name","email","address","className","city","href","Comment","body","CommentsList","comments","map","comment","key","id","Post","post","user","title","text","PostList","posts","current","App","useState","setPosts","visiblePosts","setVisiblePosts","fetchData","a","BASE_URL","Promise","fetch","json","all","then","response","postsFromServer","usersFromServer","commentsFromServer","preparedPosts","find","userId","filter","postId","length","type","onClick","e","target","innerHTML","placeholder","onChange","timer","event","savedEvent","clearTimeout","setTimeout","updatedPosts","toLowerCase","includes","value","debounce","ReactDOM","render","document","getElementById"],"mappings":"qWAKaA,G,wBAAO,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,KAAMC,EAAnB,EAAmBA,MAAOC,EAA1B,EAA0BA,QAA1B,OAClB,yBAAKC,UAAU,QACb,yBAAKA,UAAU,gBAAf,WAEGJ,GAEH,yBAAKI,UAAU,YAAYH,GAC3B,yBAAKG,UAAU,YAAYD,EAAQE,MACnC,uBAAGC,KAAK,IAAIF,UAAU,aAAaF,MCR1BK,G,MAAU,SAAC,GAAD,IAAGN,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAOM,EAAhB,EAAgBA,KAAhB,OACrB,yBAAKJ,UAAU,WACb,yBAAKA,UAAU,eACb,0BAAMA,UAAU,aAAhB,eACCH,GAEH,yBAAKG,UAAU,gBACb,0BAAMA,UAAU,aAAhB,UACA,uBAAGE,KAAK,KAAKJ,IAEf,yBAAKE,UAAU,eAAeI,MCVrBC,EAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAC1B,yBAAKN,UAAU,eACZM,EAASC,KAAI,SAAAC,GAAO,OACnB,kBAAC,EAAD,CACEC,IAAKD,EAAQE,GACbb,KAAMW,EAAQX,KACdC,MAAOU,EAAQV,MACfM,KAAMI,EAAQJ,YCJTO,EAAO,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OAClB,yBAAKZ,UAAU,QACb,kBAAC,EACKY,EAAKC,MAEX,yBAAKb,UAAU,YACb,yBAAKA,UAAU,YACb,wBAAIA,UAAU,aAAaY,EAAKA,KAAKE,OACrC,uBAAGd,UAAU,YAAYY,EAAKA,KAAKG,OAErC,kBAAC,EAAD,CACET,SAAUM,EAAKN,cCZVU,EAAW,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACtB,yBAAKjB,UAAU,YACZiB,EAAMV,KAAI,SAAAW,GAAO,OAChB,kBAAC,EAAD,CACET,IAAKS,EAAQN,KAAKF,GAClBE,KAAMM,SCgFCC,EAvFH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACTH,EADS,KACFI,EADE,OAEwBD,mBAAS,IAFjC,mBAETE,EAFS,KAEKC,EAFL,KAIVC,EAAS,uCAAG,4BAAAC,EAAA,6DACVC,EACF,kEAFY,KAIhBC,QAJgB,SAKPC,MAAM,GAAD,OAAIF,EAAJ,eALE,0BAKyBG,OALzB,SAMPD,MAAM,GAAD,OAAIF,EAAJ,eANE,0BAMyBG,OANzB,UAOPD,MAAM,GAAD,OAAIF,EAAJ,kBAPE,oBAO4BG,OAP5B,2BAIRC,IAJQ,gBAQbC,MAAK,SAACC,GACP,IAAMC,EAAkBD,EAAS,GAC3BE,EAAkBF,EAAS,GAC3BG,EAAqBH,EAAS,GAE9BI,EAAgBH,EAAgB1B,KAAI,SAAAK,GAAI,MAC5C,CACEA,OACAC,KAAMqB,EACHG,MAAK,SAAAxB,GAAI,OAAIA,EAAKH,KAAOE,EAAK0B,UACjChC,SAAU6B,EACPI,QAAO,SAAA/B,GAAO,OAAIA,EAAQgC,SAAW5B,EAAKF,UAIjDW,EAASe,GACTb,EAAgBa,MAxBF,4CAAH,qDAkDf,OACE,yBAAKpC,UAAU,OACb,sDACEiB,EAAMwB,QACN,4BACEC,KAAK,SACL1C,UAAU,cACV2C,QAAS,SAACC,GACMA,EAAEC,OAEVC,UAAY,aAElBtB,MARJ,QAeDP,EAAMwB,OAAS,GACd,2BACEC,KAAK,SACL1C,UAAU,SACV+C,YAAY,mBACZC,SA9CS,WACf,IAWIC,EAEJ,OAAO,SAACC,GACN,IAAMC,EAAU,eAAQD,GAExBE,aAAaH,GACbA,EAAQI,YAAW,kBAjBN,SAACT,GACd,IAAMU,EAAerC,EAAMsB,QAAO,SAAArB,GAAO,OACvCA,EAAQN,KAAKE,MAAMyC,cAChBC,SAASZ,EAAEC,OAAOY,MAAMF,gBACxBrC,EAAQN,KAAKR,KAAKmD,cAClBC,SAASZ,EAAEC,OAAOY,MAAMF,kBAG7BhC,EAAgB+B,GASSf,CAAOY,KAAa,MA4B/BO,KAId,kBAAC,EAAD,CAAUzC,MAAOK,MClFvBqC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.e1383923.chunk.js","sourcesContent":["import React from 'react';\nimport './User.scss';\n\nimport PropTypes from 'prop-types';\n\nexport const User = ({ username, name, email, address }) => (\n  <div className=\"User\">\n    <div className=\"UserNickname\">\n      Post by:\n      {username}\n    </div>\n    <div className=\"UserName\">{name}</div>\n    <div className=\"UserCity\">{address.city}</div>\n    <a href=\"/\" className=\"UserEmail\">{email}</a>\n  </div>\n);\n\nUser.propTypes = {\n  username: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  address: PropTypes.shape({\n    city: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport './Comment.scss';\n\nimport PropTypes from 'prop-types';\n\nexport const Comment = ({ name, email, body }) => (\n  <div className=\"Comment\">\n    <div className=\"CommentName\">\n      <span className=\"decorator\">Comment by:</span>\n      {name}\n    </div>\n    <div className=\"CommentEmail\">\n      <span className=\"decorator\">Email:</span>\n      <a href=\"/\">{email}</a>\n    </div>\n    <div className=\"CommentBody\">{body}</div>\n  </div>\n);\n\nComment.propTypes = {\n  name: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  body: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Comment } from '../Comment/Comment';\n\nexport const CommentsList = ({ comments }) => (\n  <div className=\"CommentList\">\n    {comments.map(comment => (\n      <Comment\n        key={comment.id}\n        name={comment.name}\n        email={comment.email}\n        body={comment.body}\n      />\n    ))}\n  </div>\n);\n\nCommentsList.propTypes = {\n  comments: PropTypes.arrayOf(\n    PropTypes.shape(),\n  ).isRequired,\n};\n","import React from 'react';\nimport './Post.scss';\n\nimport PropTypes from 'prop-types';\n\nimport { User } from '../User/User';\nimport { CommentsList } from '../CommentsList/CommentsList';\n\nexport const Post = ({ post }) => (\n  <div className=\"Post\">\n    <User\n      {...post.user}\n    />\n    <div className=\"PostInfo\">\n      <div className=\"PostBody\">\n        <h2 className=\"PostTitle\">{post.post.title}</h2>\n        <p className=\"PostText\">{post.post.text}</p>\n      </div>\n      <CommentsList\n        comments={post.comments}\n      />\n    </div>\n  </div>\n);\n\nPost.propTypes = {\n  post: PropTypes.shape().isRequired,\n};\n","import React from 'react';\nimport './PostList.scss';\n\nimport PropTypes from 'prop-types';\n\nimport { Post } from '../Post/Post';\n\nexport const PostList = ({ posts }) => (\n  <div className=\"PostList\">\n    {posts.map(current => (\n      <Post\n        key={current.post.id}\n        post={current}\n      />\n    ))}\n  </div>\n);\n\nPostList.propTypes = {\n  posts: PropTypes.arrayOf(\n    PropTypes.shape(),\n  ).isRequired,\n};\n","import React, { useState } from 'react';\nimport './App.scss';\n\nimport { PostList } from './components/PostList/PostList';\n\nconst App = () => {\n  const [posts, setPosts] = useState([]);\n  const [visiblePosts, setVisiblePosts] = useState([]);\n\n  const fetchData = async() => {\n    const BASE_URL\n      = 'https://mate-academy.github.io/react_dynamic-list-of-posts/api/';\n\n    Promise.all([\n      (await fetch(`${BASE_URL}posts.json`)).json(),\n      (await fetch(`${BASE_URL}users.json`)).json(),\n      (await fetch(`${BASE_URL}comments.json`)).json(),\n    ]).then((response) => {\n      const postsFromServer = response[0];\n      const usersFromServer = response[1];\n      const commentsFromServer = response[2];\n\n      const preparedPosts = postsFromServer.map(post => (\n        {\n          post,\n          user: usersFromServer\n            .find(user => user.id === post.userId),\n          comments: commentsFromServer\n            .filter(comment => comment.postId === post.id),\n        }\n      ));\n\n      setPosts(preparedPosts);\n      setVisiblePosts(preparedPosts);\n    });\n  };\n\n  const debounce = () => {\n    const filter = (e) => {\n      const updatedPosts = posts.filter(current => (\n        current.post.title.toLowerCase()\n          .includes(e.target.value.toLowerCase())\n        || current.post.body.toLowerCase()\n          .includes(e.target.value.toLowerCase())\n      ));\n\n      setVisiblePosts(updatedPosts);\n    };\n\n    let timer;\n\n    return (event) => {\n      const savedEvent = { ...event };\n\n      clearTimeout(timer);\n      timer = setTimeout(() => filter(savedEvent), 1000);\n    };\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Dynamic list of posts</h1>\n      {!posts.length && (\n        <button\n          type=\"button\"\n          className=\"load-button\"\n          onClick={(e) => {\n            const input = e.target;\n\n            input.innerHTML = 'Loading...';\n\n            fetchData();\n          }}\n        >\n          Load\n        </button>\n      )}\n\n      {posts.length > 0 && (\n        <input\n          type=\"search\"\n          className=\"filter\"\n          placeholder=\"Type search word\"\n          onChange={debounce()}\n        />\n      )}\n\n      <PostList posts={visiblePosts} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}